---
title             : "**The Illusion Game: A Novel Experimental Paradigm to Study Visual Illusions**"
shorttitle        : "Illusion Game"
author: 
  - name          : "Dominique Makowski"
    affiliation   : "1"
    corresponding : yes    # Define only one corresponding author
    address       : "HSS 04-18, 48 Nanyang Avenue, Singapore"
    email         : "dom.makowski@gmail.com"
    orcid         : 0000-0001-5375-9967
      
affiliation:
  - id            : "1"
    institution   : "School of Social Sciences, Nanyang Technological University, Singapore"
authornote: |
  Correspondence concerning this article should be addressed to Dominique Makowski, HSS 04-18, 48 Nanyang Avenue, Singapore (dom.makowski@gmail.com).
abstract: |
  Abstract abstract. We invite researchers to re-analyze our open-access data to provide complimentary evidence (or absence thereof) on the effect and structure of illusion sensitivity.
  
keywords          : "visual illusions, illusion game, pyllusion, illusion effect, personality"
wordcount         : "1156"
bibliography      : "bibliography.bib"
floatsintext      : yes
linenumbers       : yes
draft             : no
mask              : no
figurelist        : yes
tablelist         : no
footnotelist      : no
classoption       : "man"
output            : papaja::apa6_pdf
csl: utils/apa.csl
header-includes:
  - \usepackage[labelfont=bf, font={scriptsize, color=gray}]{caption}
editor_options: 
  chunk_output_type: console
---



```{r, echo = FALSE, warning=FALSE, message=FALSE}
# options and parameters
options(digits = 3)

knitr::opts_chunk$set(
  collapse = TRUE,
  dpi = 450,
  fig.width = see::golden_ratio(9),
  fig.height = 9,
  fig.path = "figures/"
)

cache <- TRUE
```

<!-- Title: -->
<!-- The Illusion Game: Validation of a Novel Experimental Paradigm to study Visual Illusions  -->


# Introduction

<!-- Intro  & Gaps-->
Visual illusions are fascinating stimuli capturing a key feature of our neurocognitive systems. They eloquently show that our brains did not evolve to be perfect perceptual devices, but to take into account contextual information and prior knowledge that manifests in our conscious experience **(REF)**. Despite the historical interest within the fields of visual perception **(REF)**, consciousness science **(REF)**, or psychiatry **(REF)**, several gaps remained unanswered. *mention common factor for illusions and link with disorders*. 

<!-- Pyllusion -->
One key challenge hindering the further development of illusion research is the relative difficulty to adapt visual illusions to an experimental setting, which typically requires the controlled modulation of the specific variables of interest. To address this issue, we first developed a parametric framework to manipulate visual illusions, that we implemented and made accessible in the open-source software *Pyllusion* **(REF)**. This software allows us to generate different types of historical visual illusions with a continuous and independent modulation of two parameters, *illusion strength* and *task difficulty* (see **Figure 1**).
 
```{r message=FALSE, warning=FALSE, fig.cap="Explanation of the parametric framework for visual illusions (Makowski et al., 2021) applied to the Müller-Lyer illusion (above). Examples of stimuli showcasing the manipulation of the two main parameters, the task difficulty and the illusion strength (below)."}
knitr::include_graphics("figures/Figure1.png")
```

 
<!-- Target, strength, difficulty -->
Indeed, many visual illusions can be seen as made of *targets* (e.g., same-length lines), which perception is biased by the *context* (e.g., in the Müller-Lyer illusion, the segments appear of different lengths when they end with inwards or outwards pointing arrows). While most of the paradigms used in the literature prompt the subjective extent the context biases the perception (e.g."how much doe the line appear different"; **REFS**), *Pyllusions* allows to create illusions in which the targets are actually more or less different (e.g., one segment is truly longer than the other), and in which the illusion varies in strength (the arrows are more or less pointy). 


<!-- Paradigm -->
This opens the door of an experimental task in which participants have to make perceptual judgments about the targets (e.g., which segment in the longest) under different conditions of objective difficulty and illusion strength. Moreover, the illusion effect can be either "incongruent" (making the task even harder by biasing the perception in the opposite way) or "congruent" (making the task easier by making for instance the longer segment look even longer). Although visual illusions are inherently tied to subjective and conscious perception (**REF about whether illusion can work on a subconscious level, in which case we need to remove "conscious"**), this framework allows a reversal of the traditional paradigm that could quantify the "objective" effect of illusions by measuring its behavioral effect (error rate and reaction times) on the performance in a perceptual task.

<!-- Goals -->
In the present set of preregistered studies, we will first test this novel paradigm by investigating if the effect of illusion and task difficulty can be manipulated continuously and statistically discriminated. Then, we will use the paradigm to assess whether 10 different historical illusions (Delboeuf, Ebbinghaus, Rod and Frame, Vertical-Horizontal, Zöllner, White, Müller-Lyer, Ponzo, Poggendorff, Contrast) share a common latent factor (a long-standing debate; *REF*). Finally, we will investigate how the the inter-individual sensitivity to illusions relates to other characteristics, such as demographic variables and personality (*REF*).

In line with our open-science standards, all the material (stimuli generation code, experiment code, raw data, analysis script with complementary figures and analyses, preregistration, etc.) is available and open-source at **https://github.com/RealityBending/IllusionGameValidation**.


# Study 1

## Aim

Study 1 can be seen as a pilot study which goal was to gather some preliminary data to 1) assess whether the stimuli generated by *Pyllusion* behave as expected for each of the 10 illusion types (i.e., increase of task difficulty and illusion strength leading to increased error rate) and 2) develop an intuition of the magnitude of effects, to then refine the stimuli parameters to a sensible range (i.e., not overly easy and not impossible hard).

## Procedure

We generated 56 stimuli for each of the 10 illusion types. These stimuli resulted from the combination of 8 linearly-spread levels levels of task difficulty (e.g., [1, 2, 3, 4, 5, 6, 7], where 1 corresponds to the higher difficulty - i.e., the smallest objective difference between targets) and 7 levels of illusion strength (3 values of strength on the congruent side, 3 on the incongruent side, and 0; e.g., [-3, -2, -1, 0, 1, 2, 3], where the negative values correspond to congruent illusion strengths).

The 10 illusion blocks were randomly presented, and the order of the 56 stimuli within the block was also randomized. After the first series of 10 blocks, another series was done (with new randomized blocks and trials order). In total, each participant saw 56 different trials per 10 illusion type, repeated 2 times (total = 1120 trials), to which they had to respond "as fast as possible without making errors" (i.e., an explicit double constraint to mitigate the inter-individual variability in the speed-accuracy trade off). The task was implemented using *jsPsych* (*REF*). See instructions for each illusion type in the experiment code.


## Participants

Fifty-two participants were recruited via *Prolific* (**REF** about prolific and their data quality) with no restrictions on age or country (the only requisite was a "fluent" level of English to match the language of instructions), with a reward of about \textsterling 7.5. 

We removed 6 participants upon inspection of the average error rage (when close to 50%, suggesting random answers), and when the reaction time distribution was implausibly fast. For the remaining participants, we discarded blocks where the error rate was higher than 50% (possibly indicating that instructions got mixed up; e.g., participants were selecting the shorter line instead of the longer one). Finally, we removed 692 (1.37%) trials based on an implausibly short or wrong response time (< 150 ms or > 3000 ms).

The final sample included 46 participants (Mean age = 26.7, SD = 7.7, range: [19, 60]; Sex: 39.1% females, 56.5% males).

## Data Analysis

The analysis of study 1 focused on the probability of errors as the main outcome variable. For each illusion, we started by visualizing the average effect of task difficulty and illusion strength to gain some intuition on the underlying generative model. Next, we tested the performance of various logistic models differing in their specifications, such as: with or without a transformation of the task difficulty (log, square root or cubic root), with or without a 2nd order polynomial term for the illusion strength, and with or without the illusion side (up *vs.* down or left *vs.* right) as an additional predictor. We then fitted the best performing model under a Bayesian model, and compared its visualization with that of a General Additive Model (GAM), which has an increased ability of mapping underlying potentially non-linear relationships (at the expense of model simplicity).

The analysis was carried out using *R 4.2* (**ref**), *brms* (*REF*), the *tidyverse* (*JOSS REF*) and the *easystats* collection of packages (*REFS*).

## Results

The statistical models suggested that the effect of task difficulty had a cube relationship with error rate for Delboeuf and Ebbinghaus illusions (both based on circle size), square for Rod and Frame, Vertical-Horizontal, cube for Zöllner and Poggendorff, exponential for White, cube for Müller-Lyer and Ponzo (both based on lie lengths), and linear for Contrast. See details and figures in the analysis script.


## Discussion

This study allowed to elaborate a more precise prior idea regarding the magnitude of the effects at stake and the type of interaction between them. It allowed us to better understand and test-out the stimuli generated by *Pyllusion*. It allowed us to uncover a few bugs and issues (for instance, the specification direction of the illusion strength was reversed in the software), which were fixed in a new release.

Crucially, this study allowed us to refine the range of task difficulty and illusion strength values in order to maximize information gain. In most illusions, the task difficulty exhibited a non-linear effect, which is in line with the psychophysics literature on perceptual decisions (*REF*). One notable result was the illusion effect for the Zöller illusion, which suggested a non-linear pattern. By generating a wider range of illusion strength values, the next study will attempt at clarifying this point.

# Study 2

## Aim

The aim of study 2 was two-fold. In the first part, we will carefully model the error rate and the reaction time of each illusion type in order to validate our novel paradigm and show that the effect of illusions can be manipulated parametrically. In the second part, we will derive the participant-level scores from the models (i.e., the effect of illusion strength, task difficulty and their interaction for each individual) and analyze their latent factors structure.

## Procedure

The paradigm was similar to that of study 1, with a few changes: stimuli were re-generating with within a refined space of parameters. Moreover, based on study 1, we used non-linearly spaced difficulty levels, depending on the best underlying model (i.e., with an exponential, square or cubic spacing depending on the relationship). For instance, a linear space of [0.1, 0.3, 0.5, 0.7] can be transformed to an exponential space of [0.1, 0.27, 0.47, 0.7].

One additional difference was that instead of repeating two times each stimulus, we generated more versions (with more levels of difficulty and illusion strength). For each illusion type, we generated 134 stimuli, that were split into two groups (67 stimuli per illusion block). Additionally, instead of a simple break screen, we added two personality questionnaires between the two series of 10 blocks of illusions (see study 3).

## Participants

Using the same recruitment procedure, we recruited 256 participants, from which 6 were identified as outliers and discarded, leading to a final sample of 250 participants (Mean age = 26.5, SD = 7.6, range: [18, 69]; Sex: 48% females, 52% males). See the next study for the full demographic breakdown. We discarded blocks with more than 50% of errors (2.16% of trials) and 0.76% trials with extreme response times (< 125 ms or > 4 SD above mean).

## Data Analysis

The first part of the analysis focuses on modelling the effect of illusion strength and task difficulty, on errors and reaction time, within each illusion. In order to achieve that, we will start by fitting a General Additive Models (GAMs), which can accommodate possible non-linear effects and interactions. Errors were analyzed using Bayesian binomial mixed models, and reaction times (RT) of correct responses were analyzed using an ex-Gaussian family with the same fixed effects entered for the location $\mu$ (mean), scale $\sigma$ (spread) and tail-dominance $\tau$ of the RT distribution [@balota2011moving; @matzke2009psychological]. 

Using the GAMs as a "ground-truth", we will attempt at approximating them using general linear models, which have the advantage  which we can specify a participant-level variability of the effects (via random effects). Firstly, we will do a model comparison between a combination of transformations (raw, log, square root or cubic root) on the main predictors (task difficulty *diff* and illusion *strength*). We will then select and fit the best models (best on their indices of fit), and compare their predictions visually (see **Figure 2**). 

We will then extract the inter-individual variability (specified as random slopes) in the effect of illusion strength, task difficulty and their interaction and use it as participant-level scores. Finally, We will explore the relationship across different illusions using exploratory factor analysis (EFA) and structural equation modelling (SEM). 

## Results

The best models were $log(diff)*strength$ for Delboeuf; $sqrt(diff)*strength$ for Ebbinghaus; $log(diff)*log(strength)$ for Rod and Frame; $sqrt(diff)*sqrt(strength)$ for Vertical-Horizontal; $cbrt(diff)*strength$ for Zöllner; $diff*sqrt(strength)$ and $log(diff)*strength$ respectively for errors and RT in White; $sqrt(diff)*sqrt(strength)$ and $sqrt(diff)*strength$ respectively for errors and RT in Müller-Lyer; $cbrt(diff)*strength$ for Ponzo; $cbrt(diff)*sqrt(strength)$ and $cbrt(diff)*strength$ respectively for errors and RT in Poggendorff; $sqrt(diff)*sqrt(strength)$ for Contrast. In all of these models, the effect of illusion strength, task difficulty and their interaction were significant.

For errors, most of the models closely matched their GAMs counterpart, with the exception of Delboeuf for which the GAM suggested a non-monotonic effect of illusion strength with a local minimum at 0. However, for RTs, the GAMs suggested a consistent non-linear relationship between the mean RT and illusion strength: as the illusion strength gets very strong, the participants respond faster. While this is is not surprising (strong illusions are likely so biasing that it is "easier", i.e., faster, to make the wrong decision), the linear models were not designed to capture this pattern and hence are not good representatives of the underlying dynamics. Because these random-slopes models for RT did not appear to capture well the underlying - likely quadratic - relationship, we decided not to use add them for the individual scores analysis.
<!-- Additionally, it would have increased the parameter space from 20 to 40 variables, which was deemed as statistically unreasonable given our sample size). -->

Though imperfect, we believe that the logistic mixed models capture inter-individual differences more accurately than basic empirical scores (e.g., the total amount of errors). Thus, for each illusion, we have extracted the effect of illusion strength and its interaction with task difficulty (when the illusion incongruent) within each participants. These twenty participant-level scores were subjected to exploratory factor analysis (EFA), which suggested that ...





## Discussion

<!-- This is likely an artifact caused by the outline. It will be fixed in the next release of the Pyllusion software. -->


Future studies should investigate reaction times to find the most appropriate models, and / or use models that integrate errors and reaction time (e.g., drift diffusion models).

# Study 3

## Aim

## Procedure

This study was based on the data collected in study 2. However, the variables of interest were here taken from the questionnaires inserted in between the two series of illusion blocks. We used the *IPIP6* (x items; *REF*) to measure 6 normal personality traits (extraversion, **complete**). The PID-5 (x items; *REF*) was used to measure psychopathological personality traits (..., **complete**). The participants were the same as in study 2, however due to a technical issue the first height participants do not have data for the personality questionnaires.


# General Discussion

Thus opening the door for new illusions-based paradigms and tasks, we have shown that illusions can be manipulated continuously across several different visual illusions with the parametric illusion generation framework introduced with *Pyllusion* (*REF*). By applying this approach to a reaction-time task, we were able to measure inter-individual scores of objective illusion sensitivity.




# Future Directions

We strongly invite researchers to explore and re-analyze our dataset with other approaches and methods to push the understanding of visual illusions and illusion sensitivity further. The task, data and analysis script are available in open-access at **https://github.com/RealityBending/IllusionGameValidation**.

\newpage

# References

::: {#refs custom-style="Bibliography"}
:::
